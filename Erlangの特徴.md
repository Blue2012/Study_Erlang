# はじめに
皆さんに紹介したい言語がありまして、Erlangという言語です。
SQLの次に好きな領域の話なのですが、とても奥深い世界ですので、
私もまだまだ、勉強中ではあるのですが、本日は少しだけ触りをお伝えできればと思います。

# 関数型言語
まず皆さん、関数型言語って知ってますか？
この答えを即答するのってなかなか難しそうですが、関数型言語の逆って知ってますか？

命令型言語です。

命令型言語とは端的に言うのであれば、「状態を変化させる言語」です。
例えば、以下のようなJavaのがあります。

```
public int totalFoodsPrice(List<Item> itemList) {
  int totalPrice = 0;
  for (int i = 0; i < itemList.size(); i++) {
    Item item = itemList.get(i);
    if (Objects.equals(item.getCategory(), "Foods")) {
      totalPrice += item.getPrice();
    }
  }
  return totalPrice;
}
```

上記ですが、変数iは「商品リストの何番目」
変数totalPriceは「ループで回して取得した金額の合計値」といった形で、
それぞれ、何番目の何ていう商品でそれらの合計金額はいくらといった状態を表しています。

こういった命令型言語のなかでも代表的なプログラミングパラダイムなのは「手続き(procedure)型言語」です。
プロシージャって皆さん、なんとなくどこかで聞いたことないですか？
「手続き」というのは、ある特定の命令のひとまとまりを示します。

いっぽうで、関数型言語またの名を宣言型言語といいますが、それは何なのか。

「対象の性質を宣言します」

状態は変化せず、いわゆる「不変の状態」で保持され続けます。

良し悪しはあると思いますが、不変であることの強みとは何なのでしょうか？
以下に例を挙げてみますね。

１．x = 1 です
２．x = 1 + 3 です
３．x = 4 です
４．x = x です
５．1 = 4 です？

いずれもすべて、xという値です。これら、すべて、x の定義ですが、値は変化します。
ですが、関数型言語において、一度でも x = 1と定義したら、1です。
それが4だと命令されたとしても1のままになります。

このように同じパラメータに対して、常に同じ結果を返すような関数のことを「参照透過」であるといいます。
式の値を置き換えたとしても、プログラムのふるまいが変わらないことを示します。

皆さんは「破壊的処理」「非破壊的処理」という言葉を聞いたことがありますでしょうか？

破壊的処理　→　元のデータを上書きする処理
非破壊的処理　→　元のデータを残し、別のデータとして新しくデータを残す処理

そのプログラムに何を求めるかですが、関数型言語においてはデータはとても安定しているといえます。

ちなみに専門用語で、変数の再代入などでプログラムの状態が変化することを「副作用」と呼び、
副作用を持たない関数のことを「純粋関数」と呼びます。

例えば、以下のような状態は副作用があるといえます。

x = today() = 2020/10/27
　-- 1日待つ　--
x = today() = 2020/10/28

ん？昨日まで「2020/10/27」だった値がいつの間にか、「2020/10/28」に勝手に変化しました…

では、純粋関数である場合はというと。

x = add_two_to(3) = 5

3 + 2 の結果は常に5になるという結果を返します。
「常に」です。一度、定義したら変わることはないです。


# ErlangとElixirの特徴
